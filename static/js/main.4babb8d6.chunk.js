(this["webpackJsonpbook-app"]=this["webpackJsonpbook-app"]||[]).push([[0],{16:function(t,e,o){"use strict";o.r(e);var n=o(1),a=o.n(n),s=o(9),i=o.n(s),c=o(2),r=o(3),b=o(5),h=o(4),u=(o(7),o(0)),j=function(t){Object(b.a)(o,t);var e=Object(h.a)(o);function o(){return Object(c.a)(this,o),e.apply(this,arguments)}return Object(r.a)(o,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"header",children:Object(u.jsx)("h1",{children:"Find inspiration for your next read!"})})}}]),o}(a.a.Component),l=function(t){Object(b.a)(o,t);var e=Object(h.a)(o);function o(){return Object(c.a)(this,o),e.apply(this,arguments)}return Object(r.a)(o,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"footer",children:Object(u.jsx)("h1",{children:"Site created by Caleb Hendrix. Book information provided by OpenLibrary APIs."})})}}]),o}(a.a.Component),d=o(10),k=o(6),O=function(t){Object(b.a)(o,t);var e=Object(h.a)(o);function o(){return Object(c.a)(this,o),e.apply(this,arguments)}return Object(r.a)(o,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"book",children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:this.props.image,className:"book-img",alt:"Failed to Load"})}),Object(u.jsxs)("div",{className:"book-info",children:[Object(u.jsx)("h2",{children:this.props.title}),Object(u.jsx)("h2",{children:this.props.author}),Object(u.jsxs)("section",{children:[Object(u.jsx)("h3",{children:"Description:"}),Object(u.jsx)("p",{children:this.props.des}),Object(u.jsx)("h3",{children:"Author biography:"}),Object(u.jsx)("p",{children:this.props.bio})]})]})]})}}]),o}(a.a.Component),p=function(t){Object(b.a)(o,t);var e=Object(h.a)(o);function o(){var t;return Object(c.a)(this,o),(t=e.call(this)).state={baseURL:"https://openlibrary.org",authorURL:"/authors/OL34221A",bookImg:"https://covers.openlibrary.org/b/id/7883980-L.jpg",imgID:"",bookTitle:"",bookAuthor:"",authorBio:"",bookBioURL:"",bookBio:"",subjectWorks:{},bookNum:0},t.fetchAuthorBio=t.fetchAuthorBio.bind(Object(k.a)(t)),t.fetchBookBio=t.fetchBookBio.bind(Object(k.a)(t)),t.handlePrevClick=t.handlePrevClick.bind(Object(k.a)(t)),t.handleNextClick=t.handleNextClick.bind(Object(k.a)(t)),t.refreshPage=t.refreshPage.bind(Object(k.a)(t)),t}return Object(r.a)(o,[{key:"componentDidMount",value:function(){var t=this;fetch("".concat(this.state.baseURL,"/works/OL46125W.json")).then((function(t){return t.json()})).then((function(e){var o=e.title,n=e.authors[0].author.key,a=e.description;t.setState({bookTitle:o,authorURL:n,bookBio:a})})),fetch("".concat(this.state.baseURL).concat(this.state.authorURL,".json")).then((function(t){return t.json()})).then((function(e){var o=e.name,n=e.bio;t.setState({bookAuthor:o,authorBio:n})}))}},{key:"fetchAuthorBio",value:function(t){var e=this;fetch(t).then((function(t){return t.json()})).then((function(t){e.setState({authorBio:t.bio.value}),"string"!==typeof e.state.authorBio&&e.setState({authorBio:t.bio})}))}},{key:"fetchBookBio",value:function(t){var e=this;fetch(t).then((function(t){return t.json()})).then((function(t){e.setState({bookBio:t.description.value}),"string"!==typeof e.state.bookBio&&e.setState({bookBio:t.description})}))}},{key:"componentDidUpdate",value:function(t,e){var o=this;this.props.subjectText===t.subjectText&&this.state.bookNum===e.bookNum||fetch("".concat(this.state.baseURL,"/subjects/").concat(this.props.subjectText,".json?limit=20")).then((function(t){return t.json()})).then((function(t){var n=t.works;o.setState({subjectWorks:n}),o.setState({bookTitle:o.state.subjectWorks[o.state.bookNum].title}),o.setState({bookAuthor:o.state.subjectWorks[o.state.bookNum].authors[0].name}),o.setState({authorURL:o.state.subjectWorks[o.state.bookNum].authors[0].key}),o.setState({imgID:o.state.subjectWorks[o.state.bookNum].cover_id}),o.setState({bookBioURL:o.state.subjectWorks[o.state.bookNum].key}),o.fetchBookBio("".concat(o.state.baseURL).concat(o.state.bookBioURL,".json")),o.fetchAuthorBio("".concat(o.state.baseURL).concat(o.state.authorURL,".json")),o.setState({bookImg:"https://covers.openlibrary.org/b/id/".concat(o.state.imgID,"-L.jpg")}),o.state.authorBio===e.authorBio&&o.setState({authorBio:"Author biography cannot be displayed."}),o.state.bookBio===e.bookBio&&o.setState({bookBio:"Book descriptiton cannot be displayed."})}))}},{key:"handlePrevClick",value:function(){this.state.bookNum>0&&this.setState((function(t){return{bookNum:t.bookNum-1}}))}},{key:"handleNextClick",value:function(){this.state.bookNum<20&&this.setState((function(t){return{bookNum:t.bookNum+1}}))}},{key:"refreshPage",value:function(){window.location.reload()}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(O,{image:this.state.bookImg,title:this.state.bookTitle,author:this.state.bookAuthor,bio:this.state.authorBio,des:this.state.bookBio}),Object(u.jsxs)("span",{className:"seek-buttons",children:[Object(u.jsx)("button",{onClick:this.handlePrevClick,children:"Previous"}),Object(u.jsx)("button",{onClick:this.refreshPage,children:"New Search"}),Object(u.jsx)("button",{onClick:this.handleNextClick,children:"Next"})]})]})}}]),o}(a.a.Component),f=function(t){Object(b.a)(o,t);var e=Object(h.a)(o);function o(){var t;return Object(c.a)(this,o),(t=e.call(this)).state={subjectText:"",didSubmit:!1},t.handleChange=t.handleChange.bind(Object(k.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(k.a)(t)),t}return Object(r.a)(o,[{key:"handleChange",value:function(t){this.setState(Object(d.a)({},t.target.name,t.target.value))}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.setState({didSubmit:!0})}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"suggestion",children:Object(u.jsx)("p",{children:"(Try action, adventure or romance.)"})}),Object(u.jsx)("div",{className:"search-bar",children:Object(u.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(u.jsx)("input",{type:"text",value:this.state.subjectText,name:"subjectText",placeholder:"Enter a single book genre",onChange:this.handleChange}),Object(u.jsx)("button",{children:"Search"})]})}),Object(u.jsx)("div",{children:this.state.didSubmit?Object(u.jsx)(p,{subjectText:this.state.subjectText}):Object(u.jsx)(p,{subjectText:null})})]})}}]),o}(a.a.Component),m=function(t){Object(b.a)(o,t);var e=Object(h.a)(o);function o(){return Object(c.a)(this,o),e.apply(this,arguments)}return Object(r.a)(o,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"body",children:[Object(u.jsx)(j,{}),Object(u.jsx)(f,{}),Object(u.jsx)(l,{})]})}}]),o}(a.a.Component);i.a.render(Object(u.jsx)(m,{}),document.getElementById("root"))},7:function(t,e,o){}},[[16,1,2]]]);
//# sourceMappingURL=main.4babb8d6.chunk.js.map