{"version":3,"sources":["Components/Header.js","Components/Footer.js","Components/BookInfo.js","Components/SearchBook.js","Components/SearchSubject.js","BookSubject.js","index.js"],"names":["Header","className","React","Component","Footer","BookInfo","src","this","props","image","alt","title","author","des","bio","SearchBook","state","baseURL","authorURL","bookImg","imgID","bookTitle","bookAuthor","authorBio","bookBioURL","bookBio","subjectWorks","bookNum","fetchAuthorBio","bind","fetchBookBio","handlePrevClick","handleNextClick","refreshPage","fetch","then","response","json","authURL","authors","key","bookDes","description","setState","name","biography","bioURL","value","bookURL","prevProps","prevState","subjectText","subGroup","works","cover_id","window","location","reload","onClick","SearchSubject","didSubmit","handleChange","handleSubmit","event","target","preventDefault","onSubmit","type","placeholder","onChange","BookSubject","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4babb8d6.chunk.js","sourcesContent":["import React from \"react\"\r\nimport \"../index.css\"\r\n\r\nclass Header extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"header\">\r\n                <h1>Find inspiration for your next read!</h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Header","import React from \"react\"\r\nimport \"../index.css\"\r\n\r\nclass Footer extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"footer\">\r\n                <h1>Site created by Caleb Hendrix. Book information provided by OpenLibrary APIs.</h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Footer","import React from \"react\"\r\nimport \"../index.css\"\r\n\r\nclass BookInfo extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"book\">\r\n                    <div>\r\n                        <img src={this.props.image} className=\"book-img\" alt=\"Failed to Load\" />\r\n                    </div>\r\n                    <div className=\"book-info\">\r\n                        <h2>{this.props.title}</h2>\r\n                        <h2>{this.props.author}</h2>\r\n                        <section>\r\n                            <h3>Description:</h3>\r\n                            <p>{this.props.des}</p>\r\n                            <h3>Author biography:</h3>\r\n                            <p>{this.props.bio}</p>\r\n                        </section>\r\n                    </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BookInfo ","import React from \"react\"\r\nimport BookInfo from \"./BookInfo\"\r\n\r\nclass SearchBook extends React.Component {\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            baseURL: \"https://openlibrary.org\",\r\n            authorURL: \"/authors/OL34221A\",\r\n            bookImg: \"https://covers.openlibrary.org/b/id/7883980-L.jpg\",\r\n            imgID: \"\",\r\n            bookTitle: \"\",\r\n            bookAuthor: \"\",\r\n            authorBio: \"\",\r\n            bookBioURL: \"\",\r\n            bookBio: \"\",\r\n            subjectWorks: {},\r\n            bookNum: 0\r\n        }\r\n        this.fetchAuthorBio = this.fetchAuthorBio.bind(this)\r\n        this.fetchBookBio = this.fetchBookBio.bind(this)\r\n        this.handlePrevClick = this.handlePrevClick.bind(this)\r\n        this.handleNextClick = this.handleNextClick.bind(this)\r\n        this.refreshPage = this.refreshPage.bind(this)\r\n    }\r\n\r\n    //The same fetch is performed whenever the component mounts\r\n    //or re-mounts due to a page refresh. The information displayed\r\n    //makes up the site landing page.\r\n    componentDidMount() {\r\n        fetch(`${this.state.baseURL}/works/OL46125W.json`)\r\n            .then(response => response.json())\r\n            .then(response => {\r\n                const title = response.title\r\n                const authURL = response.authors[0].author.key\r\n                const bookDes = response.description\r\n                this.setState({ \r\n                    bookTitle: title,\r\n                    authorURL: authURL,\r\n                    bookBio: bookDes\r\n                })\r\n            })\r\n        fetch(`${this.state.baseURL}${this.state.authorURL}.json`)\r\n            .then(response => response.json())\r\n            .then(response => {\r\n                const author = response.name\r\n                const biography = response.bio\r\n                this.setState({ \r\n                    bookAuthor: author,\r\n                    authorBio: biography \r\n                })\r\n            })\r\n    }\r\n    \r\n    //Both of these fetch functions needed to be written in order\r\n    //to fetch files that contained distinct information from the \r\n    //initial fetch.\r\n    fetchAuthorBio(bioURL) {\r\n        fetch(bioURL)\r\n            .then(response => response.json())\r\n            .then(response => {\r\n                this.setState({ authorBio: response.bio.value})\r\n                if (typeof this.state.authorBio !== \"string\") {\r\n                    this.setState({ authorBio: response.bio})\r\n                }\r\n            })\r\n    }\r\n\r\n    fetchBookBio(bookURL) {\r\n        fetch(bookURL)\r\n            .then(response => response.json())\r\n            .then(response => {\r\n                this.setState({ bookBio: response.description.value})\r\n                if (typeof this.state.bookBio !== \"string\") {\r\n                    this.setState({ bookBio: response.description})\r\n                }\r\n            })\r\n    }\r\n\r\n    //This lifecycle method will only be called when the user\r\n    //inputs a new book genre or the user clicks the next or \r\n    //previous buttons.\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if ((this.props.subjectText !== prevProps.subjectText) || (this.state.bookNum !== prevState.bookNum)) {\r\n            fetch(`${this.state.baseURL}/subjects/${this.props.subjectText}.json?limit=20`)\r\n                .then(response => response.json())\r\n                .then(response => {\r\n                    const subGroup = response.works\r\n                    this.setState({ subjectWorks: subGroup })\r\n                    this.setState({ bookTitle: this.state.subjectWorks[this.state.bookNum].title})\r\n                    this.setState({ bookAuthor: this.state.subjectWorks[this.state.bookNum].authors[0].name})\r\n                    this.setState({ authorURL: this.state.subjectWorks[this.state.bookNum].authors[0].key})\r\n                    this.setState({ imgID: this.state.subjectWorks[this.state.bookNum].cover_id})\r\n                    this.setState({ bookBioURL: this.state.subjectWorks[this.state.bookNum].key})\r\n                    this.fetchBookBio(`${this.state.baseURL}${this.state.bookBioURL}.json`)\r\n                    this.fetchAuthorBio(`${this.state.baseURL}${this.state.authorURL}.json`)\r\n                    this.setState({ bookImg: `https://covers.openlibrary.org/b/id/${this.state.imgID}-L.jpg`})\r\n                    if (this.state.authorBio === prevState.authorBio) {\r\n                        this.setState({ authorBio: \"Author biography cannot be displayed.\"})\r\n                    }\r\n                    if (this.state.bookBio === prevState.bookBio) {\r\n                        this.setState({ bookBio: \"Book descriptiton cannot be displayed.\"})\r\n                    }\r\n            })\r\n        }\r\n    }\r\n\r\n    //Both of the handle click functions are set to not go\r\n    //below zero or above twenty simply due to the limit\r\n    //which was put into the fetch URL above.\r\n    handlePrevClick() {\r\n        if (this.state.bookNum > 0) {\r\n            this.setState(prevState => {\r\n                return {\r\n                    bookNum: prevState.bookNum - 1\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    handleNextClick() {\r\n        if (this.state.bookNum < 20) {\r\n            this.setState(prevState => {\r\n                return {\r\n                    bookNum: prevState.bookNum + 1\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    refreshPage() {\r\n        window.location.reload()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <BookInfo \r\n                    image={this.state.bookImg}\r\n                    title={this.state.bookTitle}\r\n                    author={this.state.bookAuthor}\r\n                    bio={this.state.authorBio}\r\n                    des={this.state.bookBio}\r\n                /> \r\n                <span className=\"seek-buttons\">\r\n                    <button onClick={this.handlePrevClick}>Previous</button>\r\n                    <button onClick={this.refreshPage}>New Search</button>\r\n                    <button onClick={this.handleNextClick}>Next</button>\r\n                </span>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchBook","import React from \"react\"\r\nimport SearchBook from \"./SearchBook\"\r\nimport \"../index.css\"\r\n\r\nclass SearchSubject extends React.Component{\r\n    constructor() {\r\n        super()\r\n        this.state = {\r\n            subjectText: \"\",\r\n            didSubmit: false\r\n        }\r\n        this.handleChange = this.handleChange.bind(this)\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n    }\r\n    \r\n    handleChange(event) {\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        })\r\n    }\r\n\r\n    //The handle submit function controls whether the SearchBook\r\n    //component will update. If it is set to true then the \r\n    //component is called with the subjectText being passed\r\n    //by prop instead of just null.\r\n    handleSubmit(event) {\r\n        event.preventDefault()    \r\n        this.setState({ didSubmit: true })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"suggestion\">\r\n                    <p>(Try action, adventure or romance.)</p>\r\n                </div>\r\n                <div className=\"search-bar\">\r\n                    <form onSubmit={this.handleSubmit}> \r\n                        <input \r\n                            type=\"text\" \r\n                            value={this.state.subjectText}\r\n                            name=\"subjectText\"\r\n                            placeholder=\"Enter a single book genre\"\r\n                            onChange={this.handleChange}\r\n                        />\r\n                        <button>Search</button>\r\n                    </form>\r\n                </div>\r\n                <div>\r\n                    {this.state.didSubmit ? <SearchBook subjectText={this.state.subjectText} /> : <SearchBook subjectText={null} />}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchSubject","import React from \"react\" \r\nimport Header from \"./Components/Header\"\r\nimport Footer from \"./Components/Footer\"\r\nimport SearchSubject from \"./Components/SearchSubject\"\r\nimport \"./index.css\"\r\n\r\nclass BookSubject extends React.Component {\r\n    \r\n    \r\n    render() {\r\n        return (\r\n            <div className=\"body\">\r\n                <Header />\r\n                <SearchSubject />\r\n                <Footer />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default BookSubject","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport BookSubject from \"./BookSubject\"\r\n\r\nReactDOM.render(\r\n    <BookSubject />,\r\n    document.getElementById(\"root\")\r\n)"],"sourceRoot":""}